<!-- Add Item to Character Form -->

<form>
    <fieldset class="form-control">
        <legend>Assign Item to Character</legend>
        <div class="row mb-3">
            <div class="col-2">
                <label for="itemID" class="form-label">Item ID:</label>
                <select id="itemID" name="itemID" class="form-select" required>
                    <% itemIDs.forEach(row => { %>
                        <option value="<%= row.itemID %>"><%= row.itemID %></option>
                    <% }); %>
                </select>
            </div>
            <div class="col-2">
                <label for="charID" class="form-label">Character ID:</label>
                <select id="charID" name="characterID" class="form-select" required>
                    <% characterIDs.forEach(row => { %>
                        <option value="<%= row.characterID %>"><%= row.characterID %></option>
                    <% }); %>
                </select>
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-2">
                <button type="submit" id="add" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </fieldset>
</form>

<h4 id="addStatus"></h4>

<!-- Delete Item from Character Form -->

<form>
    <fieldset class="form-control">
        <legend>Remove Item from Character</legend>
        <div class="row mb-3">
            <div class="col-2">
                <label for="removeItemID" class="form-label">Item ID:</label>
                <select id="removeItemID" name="removeItemID" class="form-select" required>
                    <% itemIDs.forEach(row => { %>
                        <option value="<%= row.itemID %>"> <%= row.itemID %> </option>
                    <% }); %>
                </select>
            </div>
            <div class="col-2">
                <label for="removeCharID" class="form-label">Character ID:</label>
                <select id="removeCharID" name="removeCharID" class="form-select" required>
                    <% characterIDs.forEach(row => { %>
                        <option value="<%= row.characterID %>"> <%= row.characterID %> </option>
                    <% }); %>
                </select>
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-2">
                <button type="submit"  id="delete" class="btn btn-danger">Submit</button>
            </div>
        </div>
    </fieldset>
</form>

<h4 id="deleteStatus"></h4>

<!-- Character Search Bar -->
<div class="container-fluid">
    <div class="row">
        <div class="col-4">
            <form>
                <fieldset>
                    <div class="row mb-3">
                        <div class="col-6">
                            <input type="search" name="charName" id="charName" class="form-control" placeholder="Search Characters by Name...">
                        </div>
                        <div class="col-2">
                            <button type="button" id="charSearch" class="btn btn-success">Search</button>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>

<!-- Item Search Bar -->
        <div class="col-4">
            <form>
                <fieldset>
                    <div class="row mb-3">
                        <div class="col-6">
                            <input type="search" id="itemName" class="form-control" placeholder="Search Items by Name...">
                        </div>
                        <div class="col-2">
                            <button type="button" id="itemSearch" class="btn btn-success">Search</button>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>

<!-- Characters Table -->

<div class="container-fluid">
    <div class="row">
        <div class="col-4">
            <table class="table caption-top table-striped table-hover">
                <caption>Current Characters</caption>
                <thead>
                <tr>
                    <th>Character ID</th>
                    <th>Character Name</th>
                    <th>Strength</th>
                    <th>Money</th>
                </tr>
                </thead>
                <tbody id="charBody">
                <% characters.forEach(row=>{ %>
                    <tr>
                        <td> <%= row.characterID %> </td>
                        <td> <%= row.name %> </td>
                        <td> <%= row.strength %> </td>
                        <td> <%= row.money %> </td>
                    </tr>
                <% }); %>
                </tbody>
            </table>
        </div>

<!-- Items Table -->

        <div class="col-4">
            <table class="table caption-top table-striped table-hover">
                <caption>Current Items</caption>
                <thead>
                <tr>
                    <th>Item ID</th>
                    <th>Item Name</th>
                    <th>Damage</th>
                    <th>Purchase Cost</th>
                </tr>
                </thead>
                <tbody id="itemBody">
                <% items.forEach(row=>{ %>
                    <tr>
                        <td> <%= row.itemID %> </td>
                        <td> <%= row.name %> </td>
                        <td> <%= row.damage %> </td>
                        <td> <%= row.cost %> </td>
                    </tr>
                <% }); %>
                </tbody>
            </table>
        </div>

<!-- JOIN table -->
        <div class="col-4">
            <table class="table caption-top table-striped table-hover">
                <caption>Characters with Items</caption>
                <thead>
                <tr>
                    <th>Character ID</th>
                    <th>Character Name</th>
                    <th>Item ID</th>
                    <th>Item Name</th>
                </tr>
                </thead>
                <tbody id="joinedBody">
                <% joined.forEach(row=>{ %>
                    <tr>
                        <td> <%= row.characterID %> </td>
                        <td> <%= row.charName %> </td>
                        <td> <%= row.itemID %> </td>
                        <td> <%= row.itemName %> </td>
                    </tr>
                <% }); %>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="./js/characterItemsSearch.js"></script>
