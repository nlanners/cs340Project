<h2>Regions</h2>

<!-- Search Bar -->
<div class="container-fluid">
    <form action='/regions' method="POST">
        <fieldset>
            <div class="row mb-3">
                <div class="col-4">
                    <input type="text" class="form-control" placeholder="Search Regions by Name..." id="name" name="name">
                </div>
                <div class="col-2">
                    <button type="submit" class="btn btn-success" id="search">Search</button>
                </div>
            </div>
        </fieldset>
    </form>
</div>

<!-- Regions Table -->
<table class="table caption-top table-striped table-hover">
    <caption>Current Regions</caption>
    <thead>
	    <tr>
	        <th>Region ID</th>
	        <th>Name</th>
	    </tr>
    </thead>
    <tbody>
        <% results.forEach(function(region) { %>
            <tr>
                <td> <%= region.regionID %> </td>
                <td> <%= region.name %> </td>
            </tr>
        <% }) %>
    </tbody>
</table>

<!--
<script>
    document.getElementById('search').addEventListener('click', async function(event){
            var req = new XMLHttpRequest();
            // CREATING JSON OBJECT TO SEND AS POST REQUEST
            var payload = {name:null};
            payload.name = document.getElementById('name').value;
            req.open('POST', '/regions');
            req.setRequestHeader('Content-Type', 'application/json');

            // PARSING RESPONSE SENT FROM SERVER
            req.addEventListener('load', function() {
                if(req.status >= 200 && req.status < 400){
                    console.log('req sent')
                }
            });

            // SENDING JSON STRING AS POST REQUEST
            req.send(JSON.stringify(payload));
            event.preventDefault()
        })
</script>
-->
